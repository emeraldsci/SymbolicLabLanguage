(* ::Package:: *)

(* ::Text:: *)
(*\[Copyright] 2011-2023 Emerald Cloud Lab, Inc.*)


DefineObjectType[Object[Data, CircularDichroism], {
	Description->"Measurements of circular dichroism spectra for a range of wavelengths or several fixed wavelength values generated by the circular dichroism plate readers.",
	CreatePrivileges->None,
	Cache->Session,
	Fields -> {
		DataType -> {
			Format -> Single,
			Class -> Expression,
			Pattern :> CircularDichroismDataTypeP,
			Description -> "Whether this data represents an empty plate, blank, or analyte circular dichroism absorbance reading.",
			Category -> "Data Processing"
		},
		ReadPlate->{
			Format->Single,
			Class->Link,
			Pattern:>_Link,
			Relation->Object[Container,Plate],
			Description->"The 96-well plate holding this sample for a circular dichroism experiment loaded onto the instrument.",
			Category -> "General"
		},
		MinWavelength -> {
			Format -> Single,
			Class -> Real,
			Pattern :> GreaterP[0*Meter],
			Units -> Nanometer,
			Description -> "The minimum wavelength at which absorbance differences of the right-handed and left-handed circular polarized light was acquired.",
			Category -> "General",
			Abstract->True
		},
		MaxWavelength -> {
			Format -> Single,
			Class -> Real,
			Pattern :> GreaterP[0*Meter],
			Units -> Nanometer,
			Description -> "The maximum wavelength at which absorbance differences of the right-handed and left-handed circular polarized light was acquired.",
			Category -> "General",
			Abstract->True
		},
		Wavelengths->{
			Format->Multiple,
			Class->Real,
			Pattern:>GreaterEqualP[0Nanometer],
			Units->Nanometer,
			Description->"The selected wavelengths at which sample'sat which absorbance differences of the right-handed and left-handed circular polarized light are measured.",
			Category -> "General",
			Abstract->True
		},
		NumberOfReadings -> {
			Format -> Single,
			Class -> Integer,
			Pattern :> GreaterP[0, 1],
			Units -> None,
			Description -> "The number of redundant readings for the same well taken and averaged to generate the spectrum for the sample.",
			Category -> "General"
		},
		Well -> {
			Format -> Single,
			Class -> String,
			Pattern :> WellP,
			Description -> "The well poisiton from which the spectrum was recorded.",
			Category -> "General"
		},
		Analytes -> {
			Format -> Multiple,
			Class -> Link,
			Pattern :> _Link,
			Relation -> IdentityModelTypeP,
			Description -> "The substance whose properties (enatiomeric excess or the 2nd structure composition) is analyzed to create the dircular dichroism data.",
			Category -> "General"
		},
		AnalyteConcentration -> {
			Format -> Single,
			Class -> Real,
			Pattern :> GreaterP[0Micromolar],
			Units -> Micromolar,
			Description -> "The known concentration of the analyte in the sample that is recorded.",
			Category -> "Analysis & Reports",
			Abstract -> True
		},
		SampleVolume -> {
			Format -> Single,
			Class -> Real,
			Pattern :> GreaterEqualP[0*Liter*Micro],
			Units -> Liter Micro,
			Description -> "The volume of the SamplesIn injected into the well.",
			Category -> "General"
		},
		AverageTime->{
			Format ->Single,
			Class-> Real,
			Pattern:> GreaterEqualP[0Second],
			Units -> Second,
			Description -> "The time for which data was collected for each reading. The collected data are averaged for this period of time to obtain the CircularDichroismAbsorbanceSpectrum.",
			Category-> "Method Information"
		},
		AbsorbanceSpectrum->{
			Format -> Single,
			Class -> QuantityArray,
			Pattern :> QuantityCoordinatesP[{Nanometer,AbsorbanceUnit}],
			Units -> {Nanometer, AbsorbanceUnit},
			Description -> "The spectrum records absorbance at each wavelength, with the blank spectra subtracted (if available).",
			Category -> "Experimental Results"
		},
		AbsorbanceDifferenceSpectrum->{
			Format -> Single,
			Class -> QuantityArray,
			Pattern :> QuantityCoordinatesP[{Nanometer,AbsorbanceUnit}],
			Units -> {Nanometer, AbsorbanceUnit},
			Description -> "The spectrum records absorbance differences of the right-handed and left-handed circular polarized light at each wavelength, with the blank spectra subtracted (if available).",
			Category -> "Experimental Results"
		},
		CircularDichroismAbsorbanceSpectrum -> {
			Format -> Single,
			Class -> QuantityArray,
			Pattern :> QuantityCoordinatesP[{Nanometer,AngularDegree*Milli}],
			Units -> {Nanometer, AngularDegree Milli},
			Description -> "The spectrum records circular dichroism value (ellipiticity) recorded by measuring the absorbance differences of the right-handed and left-handed circular polarized light at each wavelength, with the blank spectra subtracted (if available).",
			Category -> "Experimental Results",
			Abstract->True
		},
		CircularDichroismSpectrum -> {
			Format -> Single,
			Class -> QuantityArray,
			Pattern :> QuantityCoordinatesP[{Nanometer,AngularDegree*Centimeter^2/(Mole Deci)}],
			Units -> {Nanometer, AngularDegree*Centimeter^2/(Millimole Deci)},
			Description -> "The spectrum records molar ellipiticity (corrected circular dichroism value) for every wavelength. The molar ellipticity is calculated from divide the ellipticity value by the analyte's molar concentration and path length of the light.",
			Category -> "Experimental Results"
		},
		UnblankedAbsorbanceSpectrum->{
			Format -> Single,
			Class -> QuantityArray,
			Pattern :> QuantityCoordinatesP[{Nanometer,AbsorbanceUnit}],
			Units -> {Nanometer, AbsorbanceUnit},
			Description -> "The spectrum records absorbance at each wavelength, with the blank spectra subtracted (if available).",
			Category -> "Experimental Results"
		},
		UnblankedAbsorbanceDifferenceSpectrum->{
			Format -> Single,
			Class -> QuantityArray,
			Pattern :> QuantityCoordinatesP[{Nanometer,AbsorbanceUnit}],
			Units -> {Nanometer,AbsorbanceUnit},
			Description -> "The spectrum records absorbance differences of the right-handed and left-handed circular polarized light at each wavelength, with the blank spectra subtracted (if available).",
			Category -> "Experimental Results"
		},
		UnblankedCircularDichroismAbsorbanceSpectrum -> {
			Format -> Single,
			Class -> QuantityArray,
			Pattern :> QuantityCoordinatesP[{Nanometer,AngularDegree*Milli}],
			Units -> {Nanometer, AngularDegree Milli},
			Description -> "The unblanked circular dichroism spectrum recorded by ellipticity (Millidegree) at every wavelength, based on absorbance differences of the right-handed and left-handed circular polarized light.",
			Category -> "Data Processing",
			Abstract -> True
		},
		EmptySpectrum -> {
			Format -> Single,
			Class -> Link,
			Pattern :> _Link,
			Relation -> Alternatives[
				Object[Data, CircularDichroism][BlankSpectrum],
				Object[Data, CircularDichroism][AnalyteSpectra]
			],
			Description -> "The circular dichroism absorbance data from the same well as this data but with nothing in it.",
			Category -> "Experimental Results"
		},
		BlankSpectrum -> {
			Format -> Single,
			Class -> Link,
			Pattern :> _Link,
			Relation -> Alternatives[
				Object[Data, CircularDichroism][EmptySpectrum],
				Object[Data, CircularDichroism][AnalyteSpectra]
			],
			Description -> "A blank circular dichroism absorbance spectra which includes circular dichroism absorbance from the buffer and container but without any analyte present.",
			Category -> "Experimental Results"
		},
		AnalyteSpectra -> {
			Format -> Multiple,
			Class -> Link,
			Pattern :> _Link,
			Relation -> Alternatives[
				Object[Data, CircularDichroism][BlankSpectrum],
				Object[Data, CircularDichroism][EmptySpectrum]
			],
			Description -> "Any circular dichroism absorbance data which use this data as a blank spectra to subtract baseline signal due to the buffer or container rather than the analyte.",
			Category -> "Experimental Results"
		},

		(*Enatiomeric Excess Part*)
		EnantiomericExcessWavelengths -> {
			Format -> Multiple,
			Class -> Real,
			Pattern :> GreaterP[0Nanometer],
			Units -> Nanometer,
			Description -> "The wavelength will be used to determined enantiomeric excess of SamplesIn.",
			Category -> "Enantiomeric Excess Analysis"
		},
		(*EE measurement standards*)
		EnantiomericExcessStandards-> {
			Format -> Multiple,
			Class -> Link,
			Pattern :> _Link,
			Relation -> Alternatives[
				Object[Sample],
				Model[Sample]
			],
			Description -> "Input samples with a known enantiomeric excess values and used as standards for analyze the enantiomeric excess of the sample.",
			Category -> "Enantiomeric Excess Analysis"
		},
		EnantiomericExcessStandardSpectrum->{
			Format -> Multiple,
			Class -> Link,
			Pattern :> _Link,
			Relation -> Alternatives[
				Object[Data, CircularDichroism]
			],
			IndexMatching->EnantiomericExcessStandards,
			Description -> "For each member of EnantiomericExcessStandards, the full spectrum (if any) of the collected circular dichroism data.",
			Category -> "Enantiomeric Excess Analysis"
		},
		EnantiomericExcessStandardTable->{
			Format->Multiple,
			Class->{Real,Real,Real},
			Pattern :> {GreaterP[0 Nanometer],RangeP[-100Percent,100 Percent], UnitsP[0*AngularDegree  Milli]},
			Units->{Nanometer,Percent,AngularDegree  Milli},
			IndexMatching->EnantiomericExcessStandards,
			Headers->{"Wavelengths","Enantiomeric Excess Value","Circular Dichroism Value"},
			Description -> "For each member of EnantiomericExcessStandards,  the table of information for the standards used in the EnantiomericExcess measurments.",
			Category -> "Enantiomeric Excess Analysis"
		},
		(*EE analyte result analyze*)
		EnantiomericExcessDataType-> {
			Format -> Single,
			Class -> Expression,
			Pattern :> EnantiomericExcessDataTypeP,
			Description -> "The type of the data for quantifying enantiomeric excess value: a standard sample with a known enantiomeric excess value or a analyte sample that its enantiomeric excess needs to be quantified.",
			Category -> "Enantiomeric Excess Analysis"
		},
		EnantiomericExcessIntensities-> {
			Format -> Single,
			Class -> QuantityArray,
			Pattern :> QuantityCoordinatesP[{Nanometer,AngularDegree  Milli}],
			Units -> {Nanometer, AngularDegree  Milli},
			Description -> "The intensities at EnantiomericExcessWavelengths that are used to calculate EnantiomericExcessResult of this sample.",
			Category -> "Enantiomeric Excess Analysis"
		},
		EnantiomericExcessResults-> {(*Make a separate AnalyzeEE[] function.*)
			Format -> Multiple,
			Class -> Real,
			Pattern :> UnitsP[Percent],
			Description -> "The calculated enatiomeric excess result from linear fit of EnantiomericExcessStandardIntensities with different EnantiomericExcessStandardValues.",
			Category -> "Enantiomeric Excess Analysis"
		},
		PathLength -> {
			Format -> Single,
			Class -> Real,
			Pattern :> GreaterP[0 Centimeter],
			Units -> Meter Milli,
			Description -> "The distance that the path of light from the plate reader had to travel to traverse through the sample in the plate.",
			Category -> "Analysis & Reports"
		},
		PathLengthMethod -> {
			Format -> Single,
			Class -> Expression,
			Pattern :> PathLengthMethodP,
			Description -> "The method by which the path length from the plate reader to the sample in the read plate was determined.",
			Category -> "Analysis & Reports"
		},
		MethodFile->{
			Format->Single,
			Class->Link,
			Pattern:>_Link,
			Relation->Object[EmeraldCloudFile],
			Description -> "The file containing parameters dictating how the instrument should perform the qPCR run.",
			Category -> "Experimental Results"
		},
		CircularDichroismPeaksAnalysis -> {
			Format -> Multiple,
			Class -> Link,
			Pattern :> _Link,
			Relation -> Object[Analysis][Reference],
			Description -> "Peak picking analyses performed on the CircularDichroismAbsorbanceSpectrum data.",
			Category -> "Analysis & Reports"
		},
		SmoothingAnalyses -> {
			Format -> Multiple,
			Class -> Link,
			Pattern :> _Link,
			Relation -> Object[Analysis][Reference],
			Description -> "Smoothing analysis performed on this data.",
			Category -> "Analysis & Reports"
		},
		StructureQuantificationAnalyses -> {
			Format -> Multiple,
			Class -> Link,
			Pattern :> _Link,
			Relation -> Alternatives[
				Object[Analysis][Reference]
			],
			Description -> "Quantification of the composition of a protein's secondary strucutre that use this circular dichroism spectrum as source data.",
			Category -> "Analysis & Reports"
		}
	}
}];
